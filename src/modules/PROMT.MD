Claro, aquÃ­ te dejo un prompt completo y detallado que puedes usar para futuras refactorizaciones:

---

## ğŸ“‹ PROMPT PARA REFACTORIZACIÃ“N DE PÃGINAS

```
Necesito refactorizar la pÃ¡gina [NOMBRE_PÃGINA] para [ÃREA: Contabilidad/NÃ³mina].

IMPORTANTE - REGLAS FUNDAMENTALES:
1. NO MODIFICAR ningÃºn cÃ³digo existente
2. NO USAR wrappers ni componentes intermedios
3. COPIAR y RECREAR cÃ³digo existente en la nueva estructura
4. Seguir EXACTAMENTE el patrÃ³n de /src/modules establecido

ESTRUCTURA A CREAR:
/src/modules/[contabilidad|nomina]/[nombre-modulo]/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ [nombre].api.js          # Funciones de API
â”œâ”€â”€ components/
â”‚   â””â”€â”€ [Componentes].jsx         # Componentes especÃ­ficos
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ [nombre].constants.js     # Mensajes, labels, constantes
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ [Nombre]Page.jsx          # PÃ¡gina principal
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ [nombre]Helpers.js        # Funciones auxiliares
â””â”€â”€ index.js                       # Exports del mÃ³dulo

PÃGINA ORIGINAL A REFACTORIZAR:
- UbicaciÃ³n: /src/pages/[NombreOriginal].jsx
- Componentes usados: [listar componentes de /src/components]
- APIs usadas: [listar de /src/api]

REQUISITOS TÃ‰CNICOS:

1. VALIDACIÃ“N DE ACCESO:
   - Usar getUsuario() de '../../../shared/auth/utils/storage'
   - NO hacer llamadas API para validar (usar localStorage)
   - FunciÃ³n validarAcceso[Area]() que valide:
     * Gerente: acceso total
     * Otros: verificar array 'areas' con normalizaciÃ³n (sin acentos, case-insensitive)
     * Fallback: verificar 'area_asignada'

2. API:
   - Todas las funciones async/await
   - Console.log con emojis (ğŸ” âœ… âŒ)
   - Try-catch en todas las llamadas
   - clienteId convertido a Number() donde se envÃ­e al backend
   - Respetar nombres de campos del backend (ej: 'checklist' no 'tareas')

3. CONSTANTES:
   - MENSAJES: todos los textos de UI
   - LABELS: labels de formularios
   - Cualquier valor hardcodeado

4. DISEÃ‘O (FIEL AL ORIGINAL):
   - Colores simples: bg-gray-800, bg-gray-900, bg-blue-600
   - NO usar gradientes complejos
   - NO usar backdrop-blur ni efectos especiales
   - rounded-lg para cards, rounded-xl para botones
   - Mantener estructura HTML del original

5. INTEGRACIÃ“N /dev/modules:
   - Crear [Nombre]ModuleDemo.jsx con:
     * Input para cambiar clienteId/recursoId dinÃ¡micamente
     * Banner amarillo superior con info del mÃ³dulo
     * Estructura con Routes anidadas: <Route path="/:id?" element={<DemoLayout />} />
     * Mensaje cuando no hay ID
   - Crear [Nombre]ModuleDocs.jsx con:
     * DescripciÃ³n completa
     * CaracterÃ­sticas principales
     * Estructura de archivos
     * Endpoints API
     * Ejemplo de uso
     * Links a demo y showcase

6. APP.JSX:
   - Agregar imports de Demo y Docs
   - Rutas /dev/modules/[nombre]/demo/* (con asterisco para subrutas)
   - Rutas /dev/modules/[nombre]/docs

7. MODULESSHOWCASE.JSX:
   - Agregar tarjeta del mÃ³dulo con:
     * id, name, status: 'completed'
     * description clara
     * route y docsRoute
     * features (array de caracterÃ­sticas)
     * stats (files, lines, components, endpoints)

ARCHIVOS A ENTREGAR:
âœ… Estructura completa del mÃ³dulo en /src/modules/[area]/[nombre]/
âœ… index.js con todos los exports
âœ… PÃ¡ginas Demo y Docs en /src/pages/
âœ… Rutas integradas en App.jsx
âœ… Tarjeta en ModulesShowcase.jsx
âœ… Sin errores de linting

VALIDACIONES FINALES:
- Ejecutar get_errors en todos los archivos creados
- Verificar imports (rutas relativas correctas)
- Confirmar que no se modificÃ³ cÃ³digo existente
- Comprobar que el diseÃ±o es fiel al original
```

---

### ğŸ¯ EJEMPLO DE USO:

```
Necesito refactorizar la pÃ¡gina AnalisisLibro para Contabilidad.

[COPIAR TODO EL PROMPT DE ARRIBA]

PÃGINA ORIGINAL A REFACTORIZAR:
- UbicaciÃ³n: /src/pages/AnalisisLibro.jsx
- Componentes usados: TablaLibroMayor, FiltrosLibro
- APIs usadas: obtenerLibroMayor, obtenerClasificaciones

NOTAS ADICIONALES:
- La pÃ¡gina recibe cierreId por parÃ¡metro
- Tiene filtros por cuenta y fecha
- Incluye descarga de Excel
```

---

Este prompt te asegura que:
- âœ… No se modifique cÃ³digo existente
- âœ… Se siga el patrÃ³n exacto de mÃ³dulos
- âœ… Se valide acceso correctamente
- âœ… Se integre en /dev/modules
- âœ… El diseÃ±o sea fiel al original
- âœ… Todo funcione sin errores